{"ast":null,"code":"var _jsxFileName = \"/Users/kollusaimanaswi/Desktop/intel_avatars/facial-animation/src/components/Login.js\";\n// https://serverless-stack.com/chapters/create-a-login-page.html\nimport React, { Component } from \"react\";\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\nimport \"./css/Login.css\";\nimport axios from \"axios\";\nimport { login, authFetch, useAuth, logout } from \"../auth\";\nimport { Transition } from \"react-transition-group\";\nimport { transitionStyles, defaultStyle } from \"../Config.js\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      mounted: false\n    };\n    this.validateForm = this.validateForm.bind(this);\n    this.validateData = this.validateData.bind(this);\n    this.setUsername = this.setUsername.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      mounted: true\n    });\n  }\n\n  validateForm() {\n    return this.state.username.length > 0 && this.state.password.length > 0;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n\n  async validateData() {\n    // obtains the access token for valid credentials\n    const userData = JSON.stringify({\n      username: this.state.username,\n      password: this.state.password\n    });\n    const validUserData = JSON.stringify({\n      username: '1',\n      password: '1'\n    });\n    const res = await axios.post(\"http://localhost:5001/api/login\", validUserData, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    });\n    var token = res.data;\n\n    if (token.access_token) {\n      this.setState({\n        mounted: false\n      });\n      login(token);\n      console.log(token);\n    } else {\n      console.log(\"Please type in correct username/password\");\n    }\n  }\n\n  setUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  setPassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Transition, {\n      timeout: 300,\n      in: this.state.mounted,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, state => /*#__PURE__*/React.createElement(\"div\", {\n      style: { ...defaultStyle,\n        ...transitionStyles[state]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"login-form\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"Audio-driven facial animation\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"login-button\",\n      block: true // disabled={!this.validateForm()}\n      ,\n      type: \"submit\",\n      onClick: this.validateData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Start\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/kollusaimanaswi/Desktop/intel_avatars/facial-animation/src/components/Login.js"],"names":["React","Component","Button","FormGroup","FormControl","FormLabel","axios","login","authFetch","useAuth","logout","Transition","transitionStyles","defaultStyle","Login","constructor","props","state","username","password","mounted","validateForm","bind","validateData","setUsername","setPassword","componentDidMount","setState","length","handleSubmit","e","preventDefault","userData","JSON","stringify","validUserData","res","post","headers","token","data","access_token","console","log","target","value","render"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,WAA5B,EAAyCC,SAAzC,QAA0D,iBAA1D;AACA,OAAO,iBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,QAAkD,SAAlD;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,gBAAT,EAA2BC,YAA3B,QAA+C,cAA/C;;AAEA,MAAMC,KAAN,SAAoBb,SAApB,CAA8B;AAC5Bc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,OAAO,EAAE;AAHE,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDI,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,CAAc;AACZP,MAAAA,OAAO,EAAE;AADG,KAAd;AAGD;;AAEDC,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKJ,KAAL,CAAWC,QAAX,CAAoBU,MAApB,GAA6B,CAA7B,IAAkC,KAAKX,KAAL,CAAWE,QAAX,CAAoBS,MAApB,GAA6B,CAAtE;AACD;;AAEDC,EAAAA,YAAY,CAACC,CAAD,EAAI;AACdA,IAAAA,CAAC,CAACC,cAAF;AACD;;AAED,QAAMR,YAAN,GAAqB;AACnB;AACA,UAAMS,QAAQ,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC9BhB,MAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QADS;AAE9BC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFS,KAAf,CAAjB;AAIA,UAAMgB,aAAa,GAAGF,IAAI,CAACC,SAAL,CAAe;AACnChB,MAAAA,QAAQ,EAAE,GADyB;AAEnCC,MAAAA,QAAQ,EAAE;AAFyB,KAAf,CAAtB;AAIA,UAAMiB,GAAG,GAAG,MAAM9B,KAAK,CAAC+B,IAAN,CAAW,iCAAX,EAA8CF,aAA9C,EAA6D;AAC7EG,MAAAA,OAAO,EAAE;AACP,uCAA+B,GADxB;AAEP,wBAAgB;AAFT;AADoE,KAA7D,CAAlB;AAMA,QAAIC,KAAK,GAAGH,GAAG,CAACI,IAAhB;;AACA,QAAID,KAAK,CAACE,YAAV,EAAwB;AACtB,WAAKd,QAAL,CAAc;AACZP,QAAAA,OAAO,EAAE;AADG,OAAd;AAGAb,MAAAA,KAAK,CAACgC,KAAD,CAAL;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACD,KAND,MAMO;AACLG,MAAAA,OAAO,CAACC,GAAR,CAAY,0CAAZ;AACD;AACF;;AAEDnB,EAAAA,WAAW,CAACM,CAAD,EAAI;AACb,SAAKH,QAAL,CAAc;AACZT,MAAAA,QAAQ,EAAEY,CAAC,CAACc,MAAF,CAASC;AADP,KAAd;AAGD;;AAEDpB,EAAAA,WAAW,CAACK,CAAD,EAAI;AACb,SAAKH,QAAL,CAAc;AACZR,MAAAA,QAAQ,EAAEW,CAAC,CAACc,MAAF,CAASC;AADP,KAAd;AAGD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,GAArB;AAA0B,MAAA,EAAE,EAAE,KAAK7B,KAAL,CAAWG,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIH,KAAD,iBACC;AACE,MAAA,KAAK,EAAE,EACL,GAAGJ,YADE;AAEL,WAAGD,gBAAgB,CAACK,KAAD;AAFd,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,EAAE,EAAC,YAAT;AAAsB,MAAA,QAAQ,EAAE,KAAKY,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADF,eA6BE,oBAAC,MAAD;AACE,MAAA,EAAE,EAAC,cADL;AAEE,MAAA,KAAK,MAFP,CAGE;AAHF;AAIE,MAAA,IAAI,EAAC,QAJP;AAKE,MAAA,OAAO,EAAE,KAAKN,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA7BF,CADF,CANF,CAFJ,CADF;AAsDD;;AA3H2B;;AA8H9B,eAAeT,KAAf","sourcesContent":["// https://serverless-stack.com/chapters/create-a-login-page.html\nimport React, { Component } from \"react\";\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\nimport \"./css/Login.css\";\nimport axios from \"axios\";\nimport { login, authFetch, useAuth, logout } from \"../auth\";\nimport { Transition } from \"react-transition-group\";\nimport { transitionStyles, defaultStyle } from \"../Config.js\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      mounted: false,\n    };\n    this.validateForm = this.validateForm.bind(this);\n    this.validateData = this.validateData.bind(this);\n    this.setUsername = this.setUsername.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      mounted: true,\n    });\n  }\n\n  validateForm() {\n    return this.state.username.length > 0 && this.state.password.length > 0;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n\n  async validateData() {\n    // obtains the access token for valid credentials\n    const userData = JSON.stringify({\n      username: this.state.username,\n      password: this.state.password,\n    });\n    const validUserData = JSON.stringify({\n      username: '1',\n      password: '1',\n    });\n    const res = await axios.post(\"http://localhost:5001/api/login\", validUserData, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n      }\n    });\n    var token = res.data;\n    if (token.access_token) {\n      this.setState({\n        mounted: false\n      })\n      login(token);\n      console.log(token);\n    } else {\n      console.log(\"Please type in correct username/password\");\n    }\n  }\n\n  setUsername(e) {\n    this.setState({\n      username: e.target.value,\n    });\n  }\n\n  setPassword(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  render() {\n    return (\n      <Transition timeout={300} in={this.state.mounted}>\n        {(state) => (\n          <div\n            style={{\n              ...defaultStyle,\n              ...transitionStyles[state],\n            }}\n          >\n            <div className=\"login\">\n              <form id=\"login-form\" onSubmit={this.handleSubmit}>\n                <div id=\"title\">Audio-driven facial animation</div>\n                {/* <FormGroup\n                  id=\"username\"\n                  className=\"form-element\"\n                >\n                  <FormLabel id=\"form-header\">Username</FormLabel>\n                  <FormControl\n                    id=\"username-form\"\n                    className=\"form-element-input\"\n                    autoFocus\n                    type=\"text\"\n                    value={this.state.username}\n                    onChange={this.setUsername}\n                  />\n                </FormGroup>\n                <FormGroup\n                  id=\"password\"\n                  className=\"form-element\"\n                >\n                  <FormLabel id=\"form-header\">Password</FormLabel>\n                  <FormControl\n                    id=\"password-form\"\n                    className=\"form-element-input\"\n                    value={this.state.password}\n                    onChange={this.setPassword}\n                    type=\"password\"\n                  />\n                </FormGroup> */}\n                <Button\n                  id=\"login-button\"\n                  block\n                  // disabled={!this.validateForm()}\n                  type=\"submit\"\n                  onClick={this.validateData}\n                >\n                  Start\n                </Button>\n              </form>\n            </div>\n          </div>\n        )}\n      </Transition>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}